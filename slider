import React, { useRef } from "react";
import { Swiper, SwiperSlide } from "swiper/react";
import { Autoplay, EffectFade, Parallax } from "swiper/modules";
import "swiper/css";
import "swiper/css/navigation";
import "swiper/css/pagination";
import "swiper/css/effect-fade";
import "swiper/css/parallax";
import "animate.css"; // مكتبة Animate.css
import { banner,    secondVideo,   thirdVideo,   videoStart } from "../assets";
import { Link } from "react-router-dom";

const slidesData = [
     // {
     //      image: banner,
     //      title: "Welcome to El-Heba Citrus",
     // },
     {
          video: videoStart,
          // title: "EL-HEBA Global Leader in Citrus Farming",
     }, {
          video: thirdVideo,
          // title: "EL-HEBA Global Leader in Citrus Farming",
     },
     // {
     //      image: lemon,
     //      title: "EL-HEBA World’s Number One Citrus Grower",
     // },
     // {
     //      image: "https://alheba.net/wp-content/uploads/2024/10/valencia_orange1-1240d7a584474a4e97e64409fbc1c863.webp",
     //      title: "At Our Core, We Are Growers",
     // },
     // {
     //      image: "https://alheba.net/wp-content/uploads/2024/11/Strawberries.jpg",
     //      title: "Harvesting Quality, Delivering Freshness ",
     // },
     // {
     //      image: "https://alheba.net/wp-content/uploads/2024/11/Mango2.jpg",
     //      title: "The best types of citrus fruits in the Egyptian market",
     // }, 
     {
          video: secondVideo,
     },
];

const DynamicSlider = () => {
 
  

     return (
          <section className="relative h-screen w-full">
               <Swiper
                   
                    modules={[Autoplay, EffectFade, Parallax]}
                    parallax={true}
                    autoplay={{ delay: 3000, disableOnInteraction: false }}
                    effect="fade"
                    loop={true}
                    speed={1200}
                    fadeEffect={{
                         crossFade: true,
                    }}
                    className="h-full"
               >
                    {slidesData.map((slide, index) => (
                         <SwiperSlide key={index} className="relative h-full">
                              {slide.video ? (
                                   <video
                                        src={slide.video}
                                        className="object-cover w-full h-full"
                                        autoPlay
                                        loop
                                        muted
                                        playsInline
                                        onPlay={(e) => handleVideoPlay(e.target, index)}
                                        onLoadedMetadata={(e) => handleVideoLoaded(e.target)}
                                   />
                              ) : (
                                   <img
                                        src={slide.image}
                                        alt="slider from banner EL-HEBA"
                                        className="object-cover w-full h-full"
                                        loading="lazy"
                                   />
                              )}

                              {/* Overlay */}
                              <div className="absolute inset-0 bg-black opacity-50"></div>
                              <div
                                   className="absolute inset-0 flex items-center justify-center text-white"
                                   data-swiper-parallax="100"
                              >
                                   <h2 className="sm:leading-relaxed sm:text-3xl lg:text-4xl font-bold uppercase text-center max-w-lg leading-relaxed">
                                        {slide.title}
                                   </h2>
                              </div>
                         </SwiperSlide>
                    ))}
               </Swiper>

               {/* Buttons */}
               <div className="grid sm:grid-cols-1 lg:grid-cols-2 absolute bottom-[100px] left-1/2 transform -translate-x-1/2 -translate-y-1/2 gap-3 z-40">
                    <button
                         aria-label="Get started with our citrus products"
                         className="border-glow bg-gray-900/20 backdrop-blur-md font-medium text-white px-10 py-3 rounded-2xl"
                    >
                         <Link to="/products" title="Explore our citrus products">
                              Get Started
                         </Link>
                    </button>
                    <button
                         aria-label="Contact us for more information"
                         className="custom_btn rounded-2xl px-10 py-3"
                    >
                         <Link
                              to="/contact"
                              className="animation"
                              title="Contact us for more information"
                         >
                              Contact US
                         </Link>
                    </button>
               </div>
          </section>
     );
};

export default DynamicSlider;
